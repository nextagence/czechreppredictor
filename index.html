<!doctype html>
<html lang="cs" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>SWEET BONANZA | GATES OF OLYMPUS</title>
  <style>
    :root{
      --bg:#020617;--bg-alt:#020817;--panel:#050816;--panel-soft:#0b1220;
      --accent:#22c55e;--accent-soft:rgba(34,197,94,0.2);--accent-strong:#4ade80;
      --muted:#9ca3af;--text:#e5e7eb;--badge-bg:rgba(34,197,94,0.14);
    }
    *{box-sizing:border-box;}
    html,body{
      margin:0;height:100%;
      background:radial-gradient(circle at top,#0b1120,#020617 55%,#000 100%);
      color:var(--text);
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
      -webkit-font-smoothing:antialiased;
    }
    body::before{
      content:"";position:fixed;inset:0;
      background-image:
        linear-gradient(90deg,rgba(148,163,184,0.06) 1px,transparent 1px),
        linear-gradient(180deg,rgba(148,163,184,0.06) 1px,transparent 1px);
      background-size:40px 40px;
      opacity:.55;pointer-events:none;z-index:-2;
    }
    body::after{
      content:"";position:fixed;width:520px;height:520px;
      background:radial-gradient(circle,rgba(34,197,94,0.22),transparent 65%);
      top:-120px;left:50%;transform:translateX(-50%);
      filter:blur(8px);opacity:.7;z-index:-2;pointer-events:none;
    }
    .wrap{
      min-height:100%;display:flex;justify-content:center;align-items:flex-start;padding:12px;
    }
    .panel{
      width:100%;max-width:460px;border-radius:18px;
      padding:14px 14px 10px;
      background:radial-gradient(circle at top,#020617,#020617 55%,#000 100%);
      border:1px solid rgba(148,163,184,0.35);
      box-shadow:0 24px 80px rgba(0,0,0,.95),
                 0 0 0 1px rgba(15,23,42,0.9),
                 0 0 22px rgba(34,197,94,0.18);
      position:relative;overflow:hidden;
    }
    .panel::before{
      content:"";position:absolute;inset:1px;border-radius:16px;
      background:
        radial-gradient(circle at 0 0,rgba(34,197,94,0.12),transparent 60%),
        radial-gradient(circle at 100% 100%,rgba(56,189,248,0.16),transparent 55%);
      opacity:.9;pointer-events:none;z-index:-1;
    }
    .panel-inner{position:relative;z-index:1;}
    .top-row{
      display:flex;justify-content:space-between;align-items:center;
      gap:10px;margin-bottom:8px;
    }
    h1{
      margin:0;font-size:18px;color:var(--accent-strong);
      letter-spacing:.03em;display:flex;align-items:center;gap:6px;
    }
    .cipher-dot{
      width:7px;height:7px;border-radius:999px;
      background:var(--accent);box-shadow:0 0 12px rgba(34,197,94,0.9);
      animation:pulse-dot 1.4s infinite;
    }
    @keyframes pulse-dot{
      0%{transform:scale(1);opacity:0.9}
      50%{transform:scale(1.4);opacity:0.3}
      100%{transform:scale(1);opacity:0.9}
    }
    .status-pill{
      display:inline-flex;align-items:center;gap:6px;
      padding:4px 9px;border-radius:999px;
      border:1px solid rgba(148,163,184,0.4);
      background:linear-gradient(135deg,rgba(15,23,42,0.9),rgba(15,23,42,0.6));
      font-size:11px;color:var(--muted);
    }
    .status-dot{
      width:8px;height:8px;border-radius:999px;
      background:var(--accent);box-shadow:0 0 10px rgba(34,197,94,0.9);
    }
    .subtitle{
      font-size:12px;color:var(--muted);margin-top:2px;line-height:1.6;
    }
    .controls{
      margin-top:12px;display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap;
    }
    label{
      font-size:12px;font-weight:600;color:var(--muted);
      margin-bottom:4px;display:flex;align-items:center;gap:5px;
      justify-content:space-between;
    }
    .chip{
      font-size:10px;padding:2px 6px;border-radius:999px;
      border:1px solid rgba(148,163,184,0.5);color:var(--muted);
    }
    input[type=number]{
      padding:10px 10px;border-radius:10px;
      background:radial-gradient(circle at top,#020617,#020617 60%,#020617);
      border:1px solid rgba(148,163,184,0.4);color:#e5e7eb;
      font-weight:600;width:160px;font-size:14px;
      box-shadow:0 0 0 1px rgba(15,23,42,0.9);
    }
    input[type=number]::placeholder{color:#6b7280;font-weight:400;}
    input:focus{
      outline:none;
      box-shadow:
        0 0 0 1px rgba(15,23,42,0.9),
        0 0 0 1px rgba(34,197,94,0.4),
        0 0 12px rgba(34,197,94,0.6);
      border-color:rgba(34,197,94,0.7);
    }
    .btn{
      padding:10px 14px;border:none;border-radius:12px;
      background:radial-gradient(circle at top,#22c55e,#16a34a);
      color:#022c22;font-weight:750;cursor:pointer;font-size:14px;
      width:100%;letter-spacing:.02em;
      text-shadow:0 0 6px rgba(15,118,110,0.7);
      box-shadow:0 10px 30px rgba(34,197,94,0.35),
                 0 0 18px rgba(22,163,74,0.7);
      position:relative;overflow:hidden;
    }
    .btn span{position:relative;z-index:1;}
    .loader{
      display:none;margin-top:10px;padding:7px 10px;border-radius:10px;
      background:radial-gradient(circle at 0 0,rgba(34,197,94,0.18),transparent 70%);
      border:1px dashed rgba(34,197,94,0.5);
      font-size:12px;color:var(--muted);
      display:flex;align-items:center;justify-content:space-between;gap:10px;
    }
    .loader-left{display:flex;align-items:center;gap:8px;}
    .loader-dots{display:inline-flex;gap:4px;}
    .loader-dot{
      width:5px;height:5px;border-radius:999px;
      background:var(--accent-strong);opacity:0.25;
      animation:loaderBlink 1s infinite alternate;
    }
    .loader-dot:nth-child(2){animation-delay:.2s;}
    .loader-dot:nth-child(3){animation-delay:.4s;}
    @keyframes loaderBlink{
      0%{opacity:0.2;transform:translateY(0);}
      100%{opacity:1;transform:translateY(-2px);}
    }
    .output{
      margin-top:14px;padding:12px 9px 6px;border-radius:14px;
      background:radial-gradient(circle at top,rgba(15,23,42,0.9),rgba(15,23,42,0.96));
      border:1px solid rgba(148,163,184,0.45);
      box-shadow:0 18px 50px rgba(0,0,0,0.8),
                 0 0 18px rgba(15,23,42,0.9);
      display:none;
    }
    .output-header{
      display:flex;justify-content:space-between;align-items:center;
      margin-bottom:6px;font-size:11px;color:var(--muted);
    }
    .output-header-code{
      font-family:ui-monospace,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      font-size:11px;color:#9ca3af;background:#020617;
      padding:3px 6px;border-radius:999px;
      border:1px solid rgba(31,41,55,0.8);
    }
    .list{display:flex;flex-direction:column;gap:8px;}
    .item{
      padding:8px 9px;border-radius:12px;
      background:radial-gradient(circle at 0 0,rgba(34,197,94,0.08),rgba(15,23,42,0.98));
      border:1px solid rgba(148,163,184,0.55);
      display:flex;justify-content:space-between;align-items:center;gap:10px;
      position:relative;overflow:hidden;
    }
    .item-main{display:flex;flex-direction:column;gap:1px;}
    .label{font-size:14px;font-weight:800;color:#e5e7eb;}
    .sub-label{
      font-size:11px;color:#9ca3af;
      font-family:ui-monospace,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    }
    .meta{
      font-size:12px;color:#dbeafe;font-weight:700;
      background:var(--badge-bg);border-radius:999px;
      padding:3px 9px;white-space:nowrap;
      border:1px solid rgba(34,197,94,0.6);
      box-shadow:0 0 14px rgba(34,197,94,0.4);
    }
    .footer{
      text-align:center;margin-top:6px;font-size:11px;color:var(--muted);
      font-family:ui-monospace,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    }
  </style>
</head>
<body>
<div class="wrap">
  <div class="panel">
    <div class="panel-inner">

      <div class="top-row">
        <h1><span class="cipher-dot"></span> SWEET BONANZA | GATES OF OLYMPUS</h1>
        <div class="status-pill">
          <span class="status-dot"></span>
          <span>Engine v1.4</span>
        </div>
      </div>

      <div class="subtitle">
        Vygenerujte 5 různých sázkových vzorů z jednoho rozpočtu. Pokud je sázka vysoká, použije se pouze 1 spin na řádek.
      </div>

      <div class="controls">
        <div style="display:flex;flex-direction:column;width:100%;">
          <label for="budget">
            <span>Celkový rozpočet (EUR)</span>
          </label>
          <input id="budget" type="number" value="60" min="1" placeholder="60" />
        </div>
        <button id="gen" class="btn"><span>Získat strategii</span></button>
      </div>

      <div id="loader" class="loader">
        <div class="loader-left">
          <div class="loader-dots">
            <div class="loader-dot"></div><div class="loader-dot"></div><div class="loader-dot"></div>
          </div>
          <span>Počítám vzor…</span>
        </div>
        <div class="loader-tag">SYSTÉM: AKTIVNÍ</div>
      </div>

      <div id="output" class="output">
        <div class="output-header">
          <span>Výsledek</span>
          <span class="output-header-code" id="sessionTag">SESSION #0000</span>
        </div>
        <div id="list" class="list"></div>
        <div id="footer" class="footer"></div>
      </div>

    </div>
  </div>
</div>

<script>
(function(){
  var CURRENCY = "EUR";
  var HIGH_BET_THRESHOLD = 12; // выше 30 EUR — 1 спин
  var MIN_SPINS = 2;
  var MAX_SPINS = 7;

  // Список доступных ставок (в евро)
  var ALLOWED_BETS = [
    1,2,3,4,5,6,7,8,9,10,
    12,14,16,18,20,24,28,30,
    32,36,40,50,60
  ];

  function computePattern(budget){
    var allowed = ALLOWED_BETS.slice().sort(function(a,b){return a-b;});
    var minAllowed = allowed[0];
    var pattern = [];
    var remaining = budget;

    for (var i = 0; i < 5; i++){
      var remainingLines = 5 - i;
      var maxForLine = remaining - minAllowed * (remainingLines - 1);
      if (maxForLine < minAllowed) maxForLine = minAllowed;

      var candidates = allowed.filter(function(v){ return v <= maxForLine; });
      if (candidates.length === 0) candidates = [minAllowed];

      var bet = candidates[Math.floor(Math.random()*candidates.length)];
      pattern.push(bet);
      remaining -= bet;
    }

    return pattern;
  }

  function spins(sum){
    if(sum > HIGH_BET_THRESHOLD) return 1;
    return Math.floor(Math.random() * (MAX_SPINS - MIN_SPINS + 1)) + MIN_SPINS;
  }

  function sessionId(){
    var now = Date.now().toString(16).slice(-4);
    var r = Math.floor(Math.random()*4096).toString(16).padStart(3,"0");
    return "#"+now.toUpperCase()+"-"+r.toUpperCase();
  }

  function render(pattern, budget){
    var list = document.getElementById("list");
    var out  = document.getElementById("output");
    var tag  = document.getElementById("sessionTag");
    var footer = document.getElementById("footer");

    list.innerHTML = "";
    tag.textContent = "SESSION " + sessionId();

    pattern.forEach(function(p,i){
      var div = document.createElement("div");
      div.className = "item";

      var main = document.createElement("div");
      main.className = "item-main";

      var label = document.createElement("div");
      label.className = "label";
      label.textContent = "Celková sázka: " + p + " " + CURRENCY;

      var sub = document.createElement("div");
      sub.className = "sub-label";
      sub.textContent = "Řádek " + (i+1) + " — vysoká variace";

      var meta = document.createElement("div");
      meta.className = "meta";
      meta.textContent = "Spiny: " + spins(p);

      main.appendChild(label);
      main.appendChild(sub);
      div.appendChild(main);
      div.appendChild(meta);
      list.appendChild(div);
    });

    var total = pattern.reduce(function(a,b){return a+b;},0);
    footer.textContent = "CELKEM = " + total + " " + CURRENCY + " | Rozpočet = " + budget + " " + CURRENCY;

    out.style.display = "block";
  }

  var btn = document.getElementById("gen");
  var loader = document.getElementById("loader");
  var output = document.getElementById("output");

  loader.style.display = "none";

  btn.addEventListener("click", function(){
    var budget = parseFloat(document.getElementById("budget").value);

    if(!isFinite(budget) || budget <= 10){
      alert("Zadejte prosím platný rozpočet (min. 20 EUR).");
      return;
    }

    btn.disabled = true;
    loader.style.display = "flex";
    output.style.display = "none";

    setTimeout(function(){
      var pattern = computePattern(budget);
      render(pattern, budget);
      loader.style.display = "none";
      btn.disabled = false;
    }, 3500);
  });
})();
</script>
</body>
</html>
